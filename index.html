<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <button>Rock</button>
        <button>Paper</button>
        <button>Scissors</button>
        <script>
            const CHOICES = ["Rock", "Paper", "Scissors"];
            let result = "";
            // Function which returns either "Rock", "Paper" or "Scissors"
            function getComputerChoice() {
                return CHOICES[Math.floor(Math.random() * 3)];
            }
            //Function which determines the winner of the round
            function play(playerSelection, computerSelection) {
                let pSelection = playerSelection.toLowerCase();
                let cSelection = computerSelection.toLowerCase();
                
                if (pSelection === cSelection) {
                    return result = "Draw!";
                }
        
                switch(pSelection) {
                    case "rock":
                            if (cSelection === "paper") {
                                result = "You Lose! Paper beats Rock";
                            } else {
                                result = "You Win! Rock beats Scissors"
                            }
                        break;
                    case "paper":
                            if (cSelection === "scissors") {
                                result = "You Lose! Scissors beats Paper";
                            } else {
                                result = "You Win! Paper beats Rock"
                            }
                        break;
                    case "scissors":
                            if (cSelection === "rock") {
                                result = "You Lose! Rock beats Scissors";
                            } else {
                                result = "You Win! Scissors beats Paper"
                            }
                        break;
                }
                return result;
            }
            // Function to play 5 rounds of rps and announes winner
            function playGame(playerChoice) {
                let yourScore = 0;
                let computerScore = 0;
                
                // prompts user for input
                console.log(play(playerChoice, getComputerChoice()));
                if (result.includes("Win")) {
                    yourScore++;
                } else if (result.includes("Lose")) {
                    computerScore++;
                }
        
                
                if (yourScore > computerScore) {
                    return `You Win! Final Score: ${yourScore}:${computerScore}`;
                } else if (computerScore > yourScore) {
                    return `You Lose! Final Score: ${computerScore}:${yourScore}`;
                } else {
                    return `Draw! Final Score: ${computerScore}:${yourScore}`;
                }
            }
            
            const playBtns = document.querySelectorAll('button');

            playBtns.forEach((btn) => {
                btn.addEventListener('click', () => {
                    playGame(btn.textContent);
                });
            });
            
            
            //console.log(playGame());
        </script>
    </body>
</html>
