<script>
    const CHOICES = ["Rock", "Paper", "Scissors"];
    let result = "";
    // Function which returns either "Rock", "Paper" or "Scissors"
    function getComputerChoice() {
        return CHOICES[Math.floor(Math.random() * 3)];
    }
    //Function which determines the winner of the round
    function play(playerSelection, computerSelection) {
        let pSelection = playerSelection.toLowerCase();
        let cSelection = computerSelection.toLowerCase();
        
        if (pSelection === cSelection) {
            return result = "Draw!";
        }

        switch(pSelection) {
            case "rock":
                    if (cSelection === "paper") {
                        result = "You Lose! Paper beats Rock";
                    } else {
                        result = "You Win! Rock beats Scissors"
                    }
                break;
            case "paper":
                    if (cSelection === "scissors") {
                        result = "You Lose! Scissors beats Paper";
                    } else {
                        result = "You Win! Paper beats Rock"
                    }
                break;
            case "scissors":
                    if (cSelection === "rock") {
                        result = "You Lose! Rock beats Scissors";
                    } else {
                        result = "You Win! Scissors beats Paper"
                    }
                break;
        }
        return result;
    }
    // Function to play 5 rounds of rps and announes winner
    function playGame() {
        let yourScore = 0;
        let computerScore = 0;

        for (i = 0; i < 5; i++) {
            // prompts user for input
            console.log(play(prompt("Rock Paper or Sciccors!\nTake your pick:"), getComputerChoice()));
            if (result.includes("Win")) {
                yourScore++;
            } else if (result.includes("Lose")) {
                computerScore++;
            }
        }
        
        if (yourScore > computerScore) {
            return `You Win! Final Score: ${yourScore}:${computerScore}`;
        } else if (computerScore > yourScore) {
            return `You Lose! Final Score: ${computerScore}:${yourScore}`;
        } else {
            return `Draw! Final Score: ${computerScore}:${yourScore}`;
        }
    }
    console.log(playGame());
</script>